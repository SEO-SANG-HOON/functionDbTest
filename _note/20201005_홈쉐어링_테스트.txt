20201005 홈쉐어링 테스트


curl 'https://ziniot-test.koreacentral.cloudapp.azure.com/service/api/v1/sharing?placeId=5f4cd00305595f0018ce3bcd' \
  -H 'Connection: keep-alive' \
  -H 'Accept: application/json, text/plain, */*' \
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjQzNDE4ZGZjNzlhNDAwMTg5YmFmNDgiLCJvYXV0aFNpdGUiOiJnb29nbGUiLCJsb2dpbkF0IjoiMTYwMTg4ODU3NzIwMSIsIm5pY2tuYW1lIjoi64uJ64Sk7J6EMTEiLCJzdGF0dXMiOiJhY3RpdmUiLCJpYXQiOjE2MDE4ODg1Nzd9.xt3tUmu-jpWRNKEJ2sGyOjc0_CVpeerrxdrbzLxRvgE' \
  -H 'User-Agent: Mozilla/5.0 Google' \
  -H 'Content-Type: application/json;charset=utf-8' \
  -H 'X-Requested-With: com.lghausys.mobile.zinhome' \
  -H 'Sec-Fetch-Site: cross-site' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7' \
  --compressed




[개발 서버]
쉐어링 코드 발급 (카카오 계정)
curl 'https://ziniot-test.koreacentral.cloudapp.azure.com/service/api/v1/sharing?placeId=5f4cd00305595f0018ce3bcd' -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjQzNDE4ZGZjNzlhNDAwMTg5YmFmNDgiLCJvYXV0aFNpdGUiOiJnb29nbGUiLCJsb2dpbkF0IjoiMTYwMTg4ODU3NzIwMSIsIm5pY2tuYW1lIjoi64uJ64Sk7J6EMTEiLCJzdGF0dXMiOiJhY3RpdmUiLCJpYXQiOjE2MDE4ODg1Nzd9.xt3tUmu-jpWRNKEJ2sGyOjc0_CVpeerrxdrbzLxRvgE' | jq .sharingCode

쉐어링 코드 수락 (구글 계정)
curl 'https://ziniot-test.koreacentral.cloudapp.azure.com/service/api/v1/sharing' -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjRkZGI4YTQwM2I2NTAwMTgzOWNhYzMiLCJvYXV0aFNpdGUiOiJnb29nbGUiLCJsb2dpbkF0IjoiMTYwMTg3Njg3NDIzNyIsIm5pY2tuYW1lIjoiSllTIDEyOSIsInN0YXR1cyI6ImFjdGl2ZSIsImlhdCI6MTYwMTg3Njg3NH0.aCBn4sfuDxPrN_vW7l4r4GFlUIbj_uDKoUKaNFd2qVM' \
  --data-binary '{"sharingCode":"296932"}' 

쉐어링된 집 삭제 (구글 계정)
curl 'https://ziniot-test.koreacentral.cloudapp.azure.com/service/api/v1/user/5f4ddb8a403b65001839cac3/place/5f4cd00305595f0018ce3bcd' -X 'DELETE' -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjRkZGI4YTQwM2I2NTAwMTgzOWNhYzMiLCJvYXV0aFNpdGUiOiJnb29nbGUiLCJsb2dpbkF0IjoiMTYwMTg3Njg3NDIzNyIsIm5pY2tuYW1lIjoiSllTIDEyOSIsInN0YXR1cyI6ImFjdGl2ZSIsImlhdCI6MTYwMTg3Njg3NH0.aCBn4sfuDxPrN_vW7l4r4GFlUIbj_uDKoUKaNFd2qVM'

[로컬]
쉐어링 코드 발급 (카카오 계정)
curl 'http://localhost:3001/api/v1/sharing?placeId=5f4cd00305595f0018ce3bcd' -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjQzNDE4ZGZjNzlhNDAwMTg5YmFmNDgiLCJvYXV0aFNpdGUiOiJnb29nbGUiLCJsb2dpbkF0IjoiMTYwMTg4ODU3NzIwMSIsIm5pY2tuYW1lIjoi64uJ64Sk7J6EMTEiLCJzdGF0dXMiOiJhY3RpdmUiLCJpYXQiOjE2MDE4ODg1Nzd9.xt3tUmu-jpWRNKEJ2sGyOjc0_CVpeerrxdrbzLxRvgE' | jq .sharingCode

쉐어링 코드 수락 (구글 계정)
curl 'http://localhost:3001/api/v1/sharing' \
  -H 'Connection: keep-alive' \
  -H 'Accept: application/json, text/plain, */*' \
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjRkZGI4YTQwM2I2NTAwMTgzOWNhYzMiLCJvYXV0aFNpdGUiOiJnb29nbGUiLCJsb2dpbkF0IjoiMTYwMTg3Njg3NDIzNyIsIm5pY2tuYW1lIjoiSllTIDEyOSIsInN0YXR1cyI6ImFjdGl2ZSIsImlhdCI6MTYwMTg3Njg3NH0.aCBn4sfuDxPrN_vW7l4r4GFlUIbj_uDKoUKaNFd2qVM' \
  -H 'User-Agent: Mozilla/5.0 Google' \
  -H 'Content-Type: application/json;charset=UTF-8' \
  -H 'X-Requested-With: com.lghausys.mobile.zinhome' \
  -H 'Sec-Fetch-Site: cross-site' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Accept-Language: ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7' \
  --data-binary '{"sharingCode":"579689"}' \
  --compressed

쉐어링된 집 삭제 (구글 계정)
curl 'http://localhost:3001/api/v1/user/5f4ddb8a403b65001839cac3/place/5f4cd00305595f0018ce3bcd' -X 'DELETE' -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZjRkZGI4YTQwM2I2NTAwMTgzOWNhYzMiLCJvYXV0aFNpdGUiOiJnb29nbGUiLCJsb2dpbkF0IjoiMTYwMTg3Njg3NDIzNyIsIm5pY2tuYW1lIjoiSllTIDEyOSIsInN0YXR1cyI6ImFjdGl2ZSIsImlhdCI6MTYwMTg3Njg3NH0.aCBn4sfuDxPrN_vW7l4r4GFlUIbj_uDKoUKaNFd2qVM'  --compressed | jq
